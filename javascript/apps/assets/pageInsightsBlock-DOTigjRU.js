const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./i18n-DBQRVp-B.js","./preload-helper-PPVm8Dsz.js","./page_mf_2_insights__loadShare__react__loadShare__-BtZvGOZQ.js","./_commonjsHelpers-CqkleIqs.js","./page_mf_2_insights__mf_v__runtimeInit__mf_v__-CsGJ69y1.js"])))=>i.map(i=>d[i]);
import{_ as pe}from"./preload-helper-PPVm8Dsz.js";import{p as l}from"./page_mf_2_insights__loadShare__react__loadShare__-BtZvGOZQ.js";import{p as se}from"./page_mf_2_insights__mf_v__runtimeInit__mf_v__-CsGJ69y1.js";var ae={exports:{}},Q={};var fe=l,me=Symbol.for("react.element"),he=Symbol.for("react.fragment"),ge=Object.prototype.hasOwnProperty,ye=fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_e={key:!0,ref:!0,__self:!0,__source:!0};function oe(e,t,n){var r,o={},a=null,j=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(j=t.ref);for(r in t)ge.call(t,r)&&!_e.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:me,type:e,key:a,ref:j,props:o,_owner:ye.current}}Q.Fragment=he;Q.jsx=oe;Q.jsxs=oe;ae.exports=Q;var s=ae.exports;const{initPromise:xe}=se,ve=xe.then(e=>e.loadShare("react-redux",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"^9.2.0"}}})),be=await ve.then(e=>e());var te=be;const we=(e,t,n,r)=>{const o=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);A(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...o):console?.warn&&console.warn(...o)},ne={},ie=(e,t,n,r)=>{A(n)&&ne[n]||(A(n)&&(ne[n]=new Date),we(e,t,n,r))},ce=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},K=(e,t,n)=>{e.loadNamespaces(t,ce(e,n))},re=(e,t,n,r)=>{if(A(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return K(e,n,r);n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,ce(e,r))},Se=(e,t,n={})=>!t.languages||!t.languages.length?(ie(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,e))return!1}}),A=e=>typeof e=="string",je=e=>typeof e=="object"&&e!==null,Ee=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ne={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Ce=e=>Ne[e],Ie=e=>e.replace(Ee,Ce);let Y={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ie,transDefaultProps:void 0};const Mt=(e={})=>{Y={...Y,...e}},Re=()=>Y;let le;const Vt=e=>{le=e},Te=()=>le,ke=l.createContext();class Le{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var ue={exports:{}},de={};var z=l;function Me(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ve=typeof Object.is=="function"?Object.is:Me,Oe=z.useState,qe=z.useEffect,Pe=z.useLayoutEffect,$e=z.useDebugValue;function Be(e,t){var n=t(),r=Oe({inst:{value:n,getSnapshot:t}}),o=r[0].inst,a=r[1];return Pe(function(){o.value=n,o.getSnapshot=t,G(o)&&a({inst:o})},[e,n,t]),qe(function(){return G(o)&&a({inst:o}),e(function(){G(o)&&a({inst:o})})},[e]),$e(n),n}function G(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ve(e,n)}catch{return!0}}function Ae(e,t){return t()}var De=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ae:Be;de.useSyncExternalStore=z.useSyncExternalStore!==void 0?z.useSyncExternalStore:De;ue.exports=de;var ze=ue.exports;const Ue=(e,t)=>A(t)?t:je(t)&&A(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,We={t:Ue,ready:!1},Fe=()=>()=>{},He=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:o}=l.useContext(ke)||{},a=n||r||Te();a&&!a.reportNamespaces&&(a.reportNamespaces=new Le),a||ie(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=l.useMemo(()=>({...Re(),...a?.options?.react,...t}),[a,t]),{useSuspense:f,keyPrefix:_}=j,C=e,g=A(C)?[C]:C,x=l.useMemo(()=>g,g);a?.reportNamespaces?.addUsedNamespaces?.(x);const b=l.useRef(0),O=l.useCallback(m=>{if(!a)return Fe;const{bindI18n:p,bindI18nStore:d}=j,u=()=>{b.current+=1,m()};return p&&a.on(p,u),d&&a.store.on(d,u),()=>{p&&p.split(" ").forEach(V=>a.off(V,u)),d&&d.split(" ").forEach(V=>a.store.off(V,u))}},[a,j]),I=l.useRef(),T=l.useCallback(()=>{if(!a)return We;const m=!!(a.isInitialized||a.initializedStoreOnce)&&x.every(B=>Se(B,a,j)),p=t.lng||a.language,d=b.current,u=I.current;if(u&&u.ready===m&&u.lng===p&&u.keyPrefix===_&&u.revision===d)return u;const $={t:a.getFixedT(p,j.nsMode==="fallback"?x:x[0],_),ready:m,lng:p,keyPrefix:_,revision:d};return I.current=$,$},[a,x,_,j,t.lng]),[R,L]=l.useState(0),{t:q,ready:w}=ze.useSyncExternalStore(O,T,T);l.useEffect(()=>{if(a&&!w&&!f){const m=()=>L(p=>p+1);t.lng?re(a,t.lng,x,m):K(a,x,m)}},[a,t.lng,x,w,f,R]);const k=a||{},v=l.useRef(null),S=l.useRef(),E=m=>{const p=Object.getOwnPropertyDescriptors(m);p.__original&&delete p.__original;const d=Object.create(Object.getPrototypeOf(m),p);if(!Object.prototype.hasOwnProperty.call(d,"__original"))try{Object.defineProperty(d,"__original",{value:m,writable:!1,enumerable:!1,configurable:!1})}catch{}return d},P=l.useMemo(()=>{const m=k,p=m?.language;let d=m;m&&(v.current&&v.current.__original===m?S.current!==p?(d=E(m),v.current=d,S.current=p):d=v.current:(d=E(m),v.current=d,S.current=p));const u=[q,d,w];return u.t=q,u.i18n=d,u.ready=w,u},[q,k,w,k.resolvedLanguage,k.language,k.languages]);if(a&&f&&!w)throw new Promise(m=>{const p=()=>m();t.lng?re(a,t.lng,x,p):K(a,x,p)});return P},Qe=({size:e="default",className:t="",color:n,...r})=>{const o=Object.assign({},{size:e,className:t,...r}),a=n?" moonstone-icon_"+n:"";return o.className=t+" moonstone-icon moonstone-icon_"+e+a,s.jsx("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...o,children:s.jsx("path",{d:"M5 9.2H8V19H5V9.2ZM10.6 5H13.4V19H10.6V5ZM16.2 13H19V19H16.2V13Z"})})},Ge=({size:e="default",className:t="",color:n,...r})=>{const o=Object.assign({},{size:e,className:t,...r}),a=n?" moonstone-icon_"+n:"";return o.className=t+" moonstone-icon moonstone-icon_"+e+a,s.jsx("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...o,children:s.jsx("path",{d:"M12 6V9L16 5L12 1V4C7.58 4 4 7.58 4 12C4 13.57 4.46 15.03 5.24 16.26L6.7 14.8C6.25 13.97 6 13.01 6 12C6 8.69 8.69 6 12 6ZM18.76 7.74L17.3 9.2C17.74 10.04 18 10.99 18 12C18 15.31 15.31 18 12 18V15L8 19L12 23V20C16.42 20 20 16.42 20 12C20 10.43 19.54 8.97 18.76 7.74Z"})})},{initPromise:Je}=se,Ze=Je.then(e=>e.loadShare("chart.js",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"^4.5.1"}}})),Ke=await Ze.then(e=>e());var M=Ke;const D=new Map,F=new Map,Ye=8e3,Xe=()=>typeof window>"u"?"":window.contextJsParameters?.config?.pageInsights?.unomiBaseUrl||window.location?.origin||"",et=()=>typeof window>"u"?"":window.contextJsParameters?.siteKey||window.contextJsParameters?.site?.key||"",X=({pagePath:e,pageUuid:t,timeRangeKey:n})=>e?`pagePath:${e}:range:${n||"lastMonth"}`:t?`pageUuid:${t}:range:${n||"lastMonth"}`:"",tt=e=>{switch(e){case"last6Months":return"now-180d";case"last3Months":return"now-90d";case"lastMonth":return"now-30d";case"lastWeek":return"now-7d";case"today":return"now-1d";default:return"now-30d"}},U=({baseUrl:e,siteKey:t,pagePath:n,timeRangeKey:r,endpointPath:o,includeTimeRange:a,optimizedQuery:j,bodyOverride:f})=>{if(!e)throw new Error("Unomi base URL is not configured");const _=e.replace(/\/$/,"");if(!t)throw new Error("Missing siteKey for Unomi proxy");const C=`${_}/modules/jexperience/proxy/${t}`,g=new URL(`${C}${o}`);return g.searchParams.set("optimizedQuery","true"),{url:g,options:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(f||{condition:{type:"booleanCondition",parameterValues:{operator:"and",subConditions:[{type:"eventTypeCondition",parameterValues:{eventTypeId:"view"}},...a?[{type:"eventPropertyCondition",parameterValues:{propertyName:"timeStamp",comparisonOperator:"greaterThanOrEqualTo",propertyValueDateExpr:tt(r)}}]:[],...n?[{type:"eventPropertyCondition",parameterValues:{propertyName:"target.properties.pageInfo.pagePath",comparisonOperator:"equals",propertyValue:n}}]:[]]}},...o==="/cxs/query/event/timeStamp"?{aggregate:{type:"date",parameters:{interval:"1d",format:"yyyy-MM-dd"}}}:o==="/cxs/query/event/sessionId"||o==="/cxs/query/event/profileId"?{aggregate:{type:"string"}}:{}})}}},nt=(e,t)=>{const n=new AbortController,r=()=>{n.abort()};e&&(e.aborted?n.abort():e.addEventListener("abort",r,{once:!0}));const o=setTimeout(()=>n.abort(),t),a=()=>{clearTimeout(o),e&&e.removeEventListener("abort",r)};return{signal:n.signal,cleanup:a}},rt=({pagePath:e,pageUuid:t,timeRangeKey:n})=>{const r=X({pagePath:e,pageUuid:t,timeRangeKey:n});return r?D.get(r):void 0},st=async({pagePath:e,pageUuid:t,baseUrl:n=Xe(),siteKey:r=et(),timeRangeKey:o,timeoutMs:a=Ye,signal:j})=>{const f=X({pagePath:e,pageUuid:t,timeRangeKey:o});if(!f)throw new Error("Missing pagePath/pageUuid for insights lookup");if(D.has(f))return D.get(f);if(F.has(f))return F.get(f);const _=(async()=>{const C=U({baseUrl:n,siteKey:r,pagePath:e,timeRangeKey:o,endpointPath:"/cxs/query/event/timeStamp",includeTimeRange:!0,optimizedQuery:!0}),g=U({baseUrl:n,siteKey:r,pagePath:e,timeRangeKey:o,endpointPath:"/cxs/query/event/count",includeTimeRange:!1,optimizedQuery:!0,bodyOverride:{type:"booleanCondition",parameterValues:{operator:"and",subConditions:[{type:"eventPropertyCondition",parameterValues:{propertyName:"target.properties.pageInfo.pagePath",comparisonOperator:"equals",propertyValue:e}}]}}}),x=U({baseUrl:n,siteKey:r,pagePath:e,timeRangeKey:o,endpointPath:"/cxs/query/event/target.properties.pageInfo.sameDomainReferrer",includeTimeRange:!0,optimizedQuery:!0}),b=U({baseUrl:n,siteKey:r,pagePath:e,timeRangeKey:o,endpointPath:"/cxs/query/event/sessionId",includeTimeRange:!0,optimizedQuery:!0}),O=U({baseUrl:n,siteKey:r,pagePath:e,timeRangeKey:o,endpointPath:"/cxs/query/event/profileId",includeTimeRange:!0,optimizedQuery:!0}),{signal:I,cleanup:T}=nt(j,a);try{const[R,L,q,w,k]=await Promise.all([fetch(C.url.toString(),{...C.options,signal:I}),fetch(g.url.toString(),{...g.options,signal:I}),fetch(x.url.toString(),{...x.options,signal:I}),fetch(b.url.toString(),{...b.options,signal:I}),fetch(O.url.toString(),{...O.options,signal:I})]);if(!R.ok)throw new Error(`Unomi request failed (${R.status})`);if(!L.ok)throw new Error(`Unomi request failed (${L.status})`);if(!q.ok)throw new Error(`Unomi request failed (${q.status})`);if(!w.ok)throw new Error(`Unomi request failed (${w.status})`);if(!k.ok)throw new Error(`Unomi request failed (${k.status})`);const v=await R.json(),S=await L.json(),E=await q.json(),P=await w.json(),m=await k.json(),p=typeof S=="number"?S:typeof S?.count=="number"?S.count:typeof S?._all=="number"?S._all:0,d=typeof v?._filtered=="number"?v._filtered:0,u=typeof E?.false=="number"?E.false:0,V=Object.keys(P||{}).filter(y=>!y.startsWith("_")).length,$=Object.keys(m||{}).filter(y=>!y.startsWith("_")).length,B=new Map;Object.entries(v||{}).forEach(([y,N])=>{if(y.startsWith("_")||typeof N!="number")return;const ee=y.slice(0,10);B.set(ee,(B.get(ee)||0)+N)});const c=Array.from(B.entries()).sort(([y],[N])=>y.localeCompare(N)).map(([y,N])=>({date:y,count:N})),h={summary:{allVisits:p,visitsInRange:d,directEntries:u,uniqueSessions:V,uniqueVisitors:$},timeSeries:c,raw:{timeStampData:v,allTimeData:S,directEntryData:E,sessionData:P,visitorData:m}};return v&&Object.keys(v).length>0&&D.set(f,h),h}finally{T(),F.delete(f)}})();return F.set(f,_),_},J=({pagePath:e,pageUuid:t,timeRangeKey:n}={})=>{if(!e&&!t){D.clear();return}const r=X({pagePath:e,pageUuid:t,timeRangeKey:n});r&&D.delete(r)},at="_container_1a6nn_1",ot="_headerRow_1a6nn_13",it="_headerSpacer_1a6nn_19",ct="_rangeSelect_1a6nn_23",lt="_actionButton_1a6nn_41",ut="_buttonIcon_1a6nn_64",dt="_refreshButton_1a6nn_70",pt="_dashboardButton_1a6nn_85",ft="_title_1a6nn_103",mt="_chevron_1a6nn_123",ht="_chevronExpanded_1a6nn_133",gt="_body_1a6nn_137",yt="_stateText_1a6nn_143",_t="_cardGrid_1a6nn_153",xt="_card_1a6nn_153",vt="_cardLabel_1a6nn_184",bt="_cardValue_1a6nn_191",wt="_chart_1a6nn_197",St="_chartCanvas_1a6nn_208",jt="_sectionTitle_1a6nn_228",Et="_retry_1a6nn_255",i={container:at,headerRow:ot,headerSpacer:it,rangeSelect:ct,actionButton:lt,buttonIcon:ut,refreshButton:dt,dashboardButton:pt,title:ft,chevron:mt,chevronExpanded:ht,body:gt,stateText:yt,cardGrid:_t,card:xt,cardLabel:vt,cardValue:bt,chart:wt,chartCanvas:St,sectionTitle:jt,retry:Et},Nt="page-insights";M.Chart.register(M.BarController,M.BarElement,M.LineController,M.LineElement,M.PointElement,M.CategoryScale,M.LinearScale,M.Tooltip);let Z=null;const Ct=async()=>(Z||(Z=(await pe(async()=>{const{default:e}=await import("./i18n-DBQRVp-B.js");return{default:e}},__vite__mapDeps([0,1,2,3,4]),import.meta.url)).default),Z),It=e=>{if(!e||typeof e!="object")return null;const t=e.summary||e.metrics||e;return{allVisits:t.allVisits??null,visitsInRange:t.visitsInRange??null,directEntries:t.directEntries??null,uniqueSessions:t.uniqueSessions??null,uniqueVisitors:t.uniqueVisitors??null,lastActivity:t.lastActivity||t.lastSeen||t.lastEvent||null,topInterests:t.topInterests||t.interests||t.topTags||null}},W=e=>Array.isArray(e)?e.length?e.join(", "):"-":e==null||e===""?"-":String(e),H=(e,t)=>({last6Months:t("rangeLast6Months"),last3Months:t("rangeLast3Months"),lastMonth:t("rangeLastMonth"),lastWeek:t("rangeLastWeek"),today:t("rangeToday")})[e]||t("rangeLastMonth"),Rt=()=>{const[e,t]=l.useState(null),{t:n}=He(Nt,{i18n:e||void 0}),[r,o]=l.useState("lastMonth"),{path:a,language:j}=te.useSelector(c=>({path:c.jcontent?.path,language:c.language}),te.shallowEqual),f=a||"",_="",C=l.useMemo(()=>{if(!a)return"";const c=a.split("/").filter(Boolean);return c[0]==="sites"&&c[1]?c[1]:""},[a]),g=f||_;l.useEffect(()=>{Ct().then(t)},[]);const x=l.useMemo(()=>{if(!C||!f||typeof window>"u")return"";const h=(window.location.host||"").split(".")[0]||"",y=encodeURIComponent(C),N=encodeURIComponent(f);return`${window.location.origin}/modules/kibana-proxy/s/${h}-kibana-dashboard/app/dashboards#/view/4a272170-ba5f-11eb-8d2f-1d6f2e41a267?embed=true&show-time-filter=true&_a=(filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:a6ca12a0-453b-11eb-b316-7d4f6c44727d,key:scope.keyword,negate:!f,params:(query:'${y}'),type:phrase),query:(match_phrase:(scope.keyword:'${y}'))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:a6ca12a0-453b-11eb-b316-7d4f6c44727d,key:target.properties.pageInfo.pagePath.keyword,negate:!f,params:(query:${N}),type:phrase),query:(match_phrase:(target.properties.pageInfo.pagePath.keyword:${N})))),query:(language:kuery,query:''))`},[C,f]),[b,O]=l.useState(!1),[I,T]=l.useState("idle"),[R,L]=l.useState(null),[q,w]=l.useState(null),[k,v]=l.useState(0),S=l.useRef(null),E=l.useRef(null),P=l.useMemo(()=>typeof window>"u"?"rgba(0, 0, 0, 0.15)":getComputedStyle(document.documentElement).getPropertyValue("--color-accent_light_plain60").trim()||"rgba(0, 0, 0, 0.15)",[]),m=l.useMemo(()=>typeof window>"u"?"rgba(0, 0, 0, 0.15)":getComputedStyle(document.documentElement).getPropertyValue("--color-accent_light_plain20").trim()||"rgba(0, 0, 0, 0.15)",[]),p=l.useMemo(()=>typeof window>"u"?"rgba(0, 0, 0, 0.9)":getComputedStyle(document.documentElement).getPropertyValue("--color-accent_dark_contrast").trim()||"rgba(0, 0, 0, 0.9)",[]);l.useEffect(()=>{T("idle"),L(null),w(null)},[g]),l.useEffect(()=>{if(!b||!g)return;const c=rt({pagePath:f,pageUuid:_,timeRangeKey:r});if(c){L(c),T("success");return}let h=!0;const y=new AbortController;return T("loading"),w(null),st({pagePath:f,pageUuid:_,siteKey:C,timeRangeKey:r,signal:y.signal}).then(N=>{h&&(L(N??null),T("success"))}).catch(N=>{!h||N?.name==="AbortError"||(w(N),T("error"))}),()=>{h=!1,y.abort()}},[b,g,f,_,k,r]);const d=l.useMemo(()=>It(R),[R]),u=l.useMemo(()=>Array.isArray(R?.timeSeries)?R.timeSeries:[],[R]),V=l.useMemo(()=>u.length?Math.max(...u.map(c=>c.count||0)):0,[u]),$=R&&Object.keys(R).length>0;l.useEffect(()=>{if(!b||!S.current||(E.current&&(E.current.destroy(),E.current=null),!u.length))return;const c=S.current.getContext("2d");if(c)return E.current=new M.Chart(c,{type:"bar",data:{labels:u.map(h=>h.date),datasets:[{label:n("viewsOverTime"),data:u.map(h=>h.count),backgroundColor:"rgba(74, 74, 74, 0.8)",borderRadius:4,maxBarThickness:18,order:2},{label:n("viewsOverTime"),type:"line",data:u.map(h=>h.count),borderColor:P,backgroundColor:P,borderWidth:2,pointRadius:2,pointHoverRadius:3,tension:.3,order:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:m,titleColor:p,bodyColor:p}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,autoSkip:!0,maxTicksLimit:6}},y:{grid:{color:"rgba(0, 0, 0, 0.08)"},ticks:{precision:0,stepSize:Math.max(1,Math.ceil(V/4))}}}}}),()=>{E.current&&(E.current.destroy(),E.current=null)}},[b,u,n,V]);const B=()=>{J({pagePath:f,pageUuid:_,timeRangeKey:r}),T("loading"),w(null),L(null),v(c=>c+1),O(!0)};return!j||!g?null:s.jsxs("div",{className:i.container,children:[s.jsxs("div",{className:i.headerRow,role:"button",tabIndex:0,"aria-expanded":b,"aria-label":n(b?"toggleHide":"toggleShow"),onClick:()=>O(c=>!c),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),O(h=>!h))},style:{cursor:"pointer"},children:[s.jsx("span",{className:`${i.chevron} ${b?i.chevronExpanded:""}`}),s.jsx("div",{className:i.title,children:n("title")}),s.jsx("div",{className:i.headerSpacer}),b&&s.jsxs(s.Fragment,{children:[s.jsx("div",{onClick:c=>c.stopPropagation(),children:s.jsxs("select",{className:i.rangeSelect,value:r,"aria-label":n("rangeLabel"),onChange:c=>{const h=c.target.value;o(h),J({pagePath:f,pageUuid:_,timeRangeKey:r}),v(y=>y+1)},children:[s.jsx("option",{value:"last6Months",children:n("rangeLast6Months")}),s.jsx("option",{value:"last3Months",children:n("rangeLast3Months")}),s.jsx("option",{value:"lastMonth",children:n("rangeLastMonth")}),s.jsx("option",{value:"lastWeek",children:n("rangeLastWeek")}),s.jsx("option",{value:"today",children:n("rangeToday")})]})}),s.jsxs("button",{type:"button",className:`${i.actionButton} ${i.refreshButton}`,onClick:c=>{c.stopPropagation(),J({pagePath:f,pageUuid:_,timeRangeKey:r}),v(h=>h+1)},children:[s.jsx("span",{className:i.buttonIcon,"aria-hidden":"true",children:s.jsx(Ge,{})}),s.jsx("span",{children:n("refresh")})]}),s.jsx(s.Fragment,{children:s.jsxs("button",{type:"button",className:`${i.actionButton} ${i.dashboardButton}`,onClick:c=>{c.stopPropagation(),x&&window.open(x,"_blank","noopener,noreferrer")},children:[s.jsx("span",{className:i.buttonIcon,"aria-hidden":"true",children:s.jsx(Qe,{})}),s.jsx("span",{children:n("pageDashboard")})]})})]})]}),b&&s.jsxs("div",{className:i.body,children:[!g&&s.jsx("div",{className:i.stateText,children:n("empty")}),g&&I==="loading"&&s.jsx("div",{className:i.stateText,children:n("loading")}),g&&I==="error"&&s.jsxs("div",{children:[s.jsx("div",{className:i.stateText,children:n("error")}),s.jsx("button",{type:"button",className:i.retry,onClick:B,children:n("retry")})]}),g&&I==="success"&&!$&&s.jsx("div",{className:i.stateText,children:n("empty")}),g&&I==="success"&&$&&s.jsxs("div",{children:[s.jsxs("div",{className:i.cardGrid,children:[s.jsxs("div",{className:i.card,children:[s.jsx("div",{className:i.cardLabel,children:n("allVisits")}),s.jsx("div",{className:i.cardValue,children:W(d?.allVisits)})]}),s.jsxs("div",{className:i.card,children:[s.jsxs("div",{className:i.cardLabel,children:[n("uniqueSessions")," (",H(r,n),")"]}),s.jsx("div",{className:i.cardValue,children:W(d?.uniqueSessions)})]}),s.jsxs("div",{className:i.card,children:[s.jsxs("div",{className:i.cardLabel,children:[n("uniqueVisitors")," (",H(r,n),")"]}),s.jsx("div",{className:i.cardValue,children:W(d?.uniqueVisitors)})]}),s.jsxs("div",{className:i.card,children:[s.jsxs("div",{className:i.cardLabel,children:[n("visits")," (",H(r,n),")"]}),s.jsx("div",{className:i.cardValue,children:W(d?.visitsInRange)})]}),s.jsxs("div",{className:i.card,children:[s.jsxs("div",{className:i.cardLabel,children:[n("directEntries")," (",H(r,n),")"]}),s.jsx("div",{className:i.cardValue,children:W(d?.directEntries)})]})]}),s.jsx("div",{className:i.sectionTitle,children:n("viewsOverTime")}),u.length>0?s.jsx("div",{className:i.chart,children:s.jsx("canvas",{ref:S,className:i.chartCanvas})}):s.jsx("div",{className:i.stateText,children:n("empty")})]})]})]})},Ot=Object.freeze(Object.defineProperty({__proto__:null,default:Rt},Symbol.toStringTag,{value:"Module"}));export{Vt as a,Ot as p,Mt as s};
//# sourceMappingURL=pageInsightsBlock-DOTigjRU.js.map
